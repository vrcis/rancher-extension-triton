(("undefined"!==typeof self?self:this)["webpackChunktriton_0_2_1"]=("undefined"!==typeof self?self:this)["webpackChunktriton_0_2_1"]||[]).push([[400],{2784:function(e,t,o){var a=o(1580),r=o(4495),i=o(6131),l="Expected a function",n=Math.max,s=Math.min;function d(e,t,o){var d,c,u,p,m,v,h=0,y=!1,f=!1,b=!0;if("function"!=typeof e)throw new TypeError(l);function k(t){var o=d,a=c;return d=c=void 0,h=t,p=e.apply(a,o),p}function g(e){return h=e,m=setTimeout(M,t),y?k(e):p}function x(e){var o=e-v,a=e-h,r=t-o;return f?s(r,u-a):r}function w(e){var o=e-v,a=e-h;return void 0===v||o>=t||o<0||f&&a>=u}function M(){var e=r();if(w(e))return B(e);m=setTimeout(M,x(e))}function B(e){return m=void 0,b&&d?k(e):(d=c=void 0,p)}function C(){void 0!==m&&clearTimeout(m),h=0,d=v=c=m=void 0}function N(){return void 0===m?p:B(r())}function S(){var e=r(),o=w(e);if(d=arguments,c=this,v=e,o){if(void 0===m)return g(v);if(f)return clearTimeout(m),m=setTimeout(M,t),k(v)}return void 0===m&&(m=setTimeout(M,t)),p}return t=i(t)||0,a(o)&&(y=!!o.leading,f="maxWait"in o,u=f?n(i(o.maxWait)||0,t):u,b="trailing"in o?!!o.trailing:b),S.cancel=C,S.flush=N,S}e.exports=d},2945:function(e){var t=/\s/;function o(e){var o=e.length;while(o--&&t.test(e.charAt(o)));return o}e.exports=o},4495:function(e,t,o){var a=o(8942),r=function(){return a.Date.now()};e.exports=r},5947:function(e,t,o){"use strict";o.r(t);var a=o(6758),r=o.n(a),i=o(6173),l=o.n(i),n=l()(r());n.push([e.id,".unlabeled-select[data-v-b8a7a952]{position:relative}.unlabeled-select[data-v-b8a7a952]  .v-select.select-input-view .vs__actions{visibility:hidden}.unlabeled-select .vs--multiple[data-v-b8a7a952]  .vs__selected-options .vs__selected{width:auto}.unlabeled-select[data-v-b8a7a952]  .labeled-tooltip.error .status-icon{top:7px;right:2px}.unlabeled-select[data-v-b8a7a952]  .vs__selected-options{display:flex;margin:3px}.unlabeled-select[data-v-b8a7a952]  .vs__selected-options .vs__selected{width:auto}.unlabeled-select[data-v-b8a7a952]  .v-select.vs--open .vs__dropdown-toggle{color:var(--outline)!important}.unlabeled-select.focused.success[data-v-b8a7a952],.unlabeled-select.success[data-v-b8a7a952]{border:solid 1px var(--success)}.unlabeled-select.focused.success .selected[data-v-b8a7a952],.unlabeled-select.focused.success .vs__actions[data-v-b8a7a952]:after,.unlabeled-select.focused.success input[data-v-b8a7a952],.unlabeled-select.success .selected[data-v-b8a7a952],.unlabeled-select.success .vs__actions[data-v-b8a7a952]:after,.unlabeled-select.success input[data-v-b8a7a952]{color:var(--success)}.unlabeled-select.focused.warning[data-v-b8a7a952],.unlabeled-select.warning[data-v-b8a7a952]{border:solid 1px var(--warning)}.unlabeled-select.focused.warning .selected[data-v-b8a7a952],.unlabeled-select.focused.warning .vs__actions[data-v-b8a7a952]:after,.unlabeled-select.focused.warning input[data-v-b8a7a952],.unlabeled-select.warning .selected[data-v-b8a7a952],.unlabeled-select.warning .vs__actions[data-v-b8a7a952]:after,.unlabeled-select.warning input[data-v-b8a7a952]{color:var(--warning)}.unlabeled-select.error[data-v-b8a7a952],.unlabeled-select.focused.error[data-v-b8a7a952]{border:solid 1px var(--error)}.unlabeled-select.error .vs__actions[data-v-b8a7a952]:after,.unlabeled-select.error>label[data-v-b8a7a952],.unlabeled-select.focused.error .vs__actions[data-v-b8a7a952]:after,.unlabeled-select.focused.error>label[data-v-b8a7a952]{color:var(--error)}.unlabeled-select.compact-input[data-v-b8a7a952]{min-height:40px;line-height:18px}",""]),t["default"]=n},6131:function(e,t,o){var a=o(6403),r=o(1580),i=o(1187),l=NaN,n=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,d=/^0o[0-7]+$/i,c=parseInt;function u(e){if("number"==typeof e)return e;if(i(e))return l;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=a(e);var o=s.test(e);return o||d.test(e)?c(e.slice(2),o?2:8):n.test(e)?l:+e}e.exports=u},6403:function(e,t,o){var a=o(2945),r=/^\s+/;function i(e){return e?e.slice(0,a(e)+1).replace(r,""):e}e.exports=i},6636:function(e,t,o){"use strict";o.r(t);var a=o(6758),r=o.n(a),i=o(6173),l=o.n(i),n=l()(r());n.push([e.id,".key-value{width:100%}.key-value .file-selector.role-link{text-transform:none;padding:0}.key-value .kv-container{display:grid;align-items:center;-moz-column-gap:20px;column-gap:20px}.key-value .kv-container label{margin-bottom:0}.key-value .kv-container .kv-item{width:100%;margin:10px 0 10px 0}.key-value .kv-container .kv-item.extra,.key-value .kv-container .kv-item.key{align-self:flex-start}.key-value .kv-container .kv-item.value .value-container.upload-button{position:relative;display:flex;justify-content:right;align-items:center}.key-value .kv-container .kv-item.value .value-container .file-selector{position:absolute;margin-right:5px}.key-value .kv-container .kv-item.value textarea{padding:10px 10px 10px 10px}.key-value .kv-container .kv-item .text-monospace:not(.conceal){font-family:monospace,monospace}.key-value .row,.key-value .rowgroup{display:grid;grid-column-start:1;grid-column-end:span end;grid-template-columns:subgrid}.key-value .row:before{display:none}.key-value .remove{text-align:center}.key-value .remove BUTTON{padding:0}.key-value .title{margin-bottom:10px}.key-value .title .read-from-file{float:right}.key-value input{height:40px;line-height:1}.key-value .footer .protip{float:right;padding:5px 0}.key-value .download{text-align:right}.key-value .copy-value{padding:0 0 0 10px}",""]),t["default"]=n},6883:function(e,t,o){var a=o(6995);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var r=o(4825).A;r("2bb707f6",a,!0,{sourceMap:!1,shadowMode:!1})},6995:function(e,t,o){"use strict";o.r(t);var a=o(6758),r=o.n(a),i=o(6173),l=o.n(i),n=l()(r());n.push([e.id,'.code-mirror.code-mirror-container:focus-visible{outline:2px solid var(--primary-keyboard-focus)}.code-mirror.as-text-area .codemirror-container{min-height:40px;position:relative;display:block;box-sizing:border-box;width:100%;padding:10px;background-color:var(--input-bg);border-radius:var(--border-radius);border:solid var(--border-width) var(--input-border);color:var(--input-text)}.code-mirror.as-text-area .codemirror-container:hover{border-color:var(--input-hover-border)}.code-mirror.as-text-area .codemirror-container.focus,.code-mirror.as-text-area .codemirror-container:focus{outline:none;border-color:var(--outline)}.code-mirror.as-text-area .codemirror-container .CodeMirror-wrap pre{word-break:break-word}.code-mirror.as-text-area .codemirror-container .CodeMirror-code .CodeMirror-line .cm-markdown-single-trailing-space-even:before,.code-mirror.as-text-area .codemirror-container .CodeMirror-code .CodeMirror-line .cm-markdown-single-trailing-space-odd:before,.code-mirror.as-text-area .codemirror-container .CodeMirror-code .CodeMirror-line:not(:last-child)>span:after{color:var(--muted);position:absolute;line-height:20px;pointer-events:none}.code-mirror.as-text-area .codemirror-container .CodeMirror-code .CodeMirror-line:not(:last-child)>span:after{content:"↵";margin-left:2px}.code-mirror.as-text-area .codemirror-container .CodeMirror-code .CodeMirror-line .cm-markdown-single-trailing-space-even:before,.code-mirror.as-text-area .codemirror-container .CodeMirror-code .CodeMirror-line .cm-markdown-single-trailing-space-odd:before{font-weight:700;content:"·"}.code-mirror.as-text-area .codemirror-container .CodeMirror-lines{color:var(--input-text);padding:0}.code-mirror.as-text-area .codemirror-container .CodeMirror-lines .CodeMirror-line>span>span.cm-overlay{font-family:monospace}.code-mirror.as-text-area .codemirror-container .CodeMirror-lines .CodeMirror-line>span{font-family:Lato,arial,helvetica,sans-serif}.code-mirror.as-text-area .codemirror-container .CodeMirror-sizer{min-height:20px}.code-mirror.as-text-area .codemirror-container .CodeMirror-selected{background-color:var(--primary)!important}.code-mirror.as-text-area .codemirror-container .CodeMirror-selectedtext{color:var(--primary-text)}.code-mirror.as-text-area .codemirror-container .CodeMirror-line::selection,.code-mirror.as-text-area .codemirror-container .CodeMirror-line>span::selection,.code-mirror.as-text-area .codemirror-container .CodeMirror-line>span>span::selection{color:var(--primary-text);background-color:var(--primary)}.code-mirror.as-text-area .codemirror-container .CodeMirror-line::-moz-selection,.code-mirror.as-text-area .codemirror-container .CodeMirror-line>span::-moz-selection,.code-mirror.as-text-area .codemirror-container .CodeMirror-line>span>span::-moz-selection{color:var(--primary-text);background-color:var(--primary)}.code-mirror.as-text-area .codemirror-container .CodeMirror-gutters .CodeMirror-foldgutter:empty{display:none}.code-mirror{position:relative;margin-bottom:20px}.code-mirror .escape-text{font-size:12px;position:absolute;bottom:-20px;left:0}.code-mirror .codemirror-container{z-index:0;font-size:inherit!important}.code-mirror .codemirror-container .CodeMirror{height:auto;background:none}.code-mirror .codemirror-container .CodeMirror-gutters{background:inherit}.code-mirror .keymap.overlay{position:absolute;display:flex;top:7px;right:7px;z-index:1;cursor:pointer}.code-mirror .keymap.overlay .keymap-indicator{width:48px;height:32px;display:flex;align-items:center;justify-content:center;border:1px solid transparent;color:var(--darker);background-color:var(--overlay-bg);font-size:12px}.code-mirror .keymap.overlay .keymap-indicator .close-indicator{width:0}.code-mirror .keymap.overlay .keymap-indicator .close-indicator .icon-close{color:var(--primary);opacity:0}.code-mirror .keymap.overlay .keymap-indicator .keymap-icon{font-size:24px;opacity:.8;transition:margin-right .1s ease-in-out}.code-mirror .keymap.overlay .keymap-indicator:hover{border:1px solid var(--primary);border-radius:var(--border-radius)}.code-mirror .keymap.overlay .keymap-indicator:hover .close-indicator{margin-left:-6px;width:auto}.code-mirror .keymap.overlay .keymap-indicator:hover .close-indicator .icon-close{opacity:1;transition:opacity .1s ease-in-out .1s}.code-mirror .keymap.overlay .keymap-indicator:hover .keymap-icon{opacity:.6;margin-right:10px}',""]),t["default"]=n},9147:function(e,t,o){var a=o(5947);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var r=o(4825).A;r("91615d80",a,!0,{sourceMap:!1,shadowMode:!1})},9340:function(e,t,o){var a=o(6636);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var r=o(4825).A;r("d355fae2",a,!0,{sourceMap:!1,shadowMode:!1})},9400:function(e,t,o){"use strict";o.d(t,{A:function(){return ce}});var a=o(9274);const r={class:"key-value"},i={key:0,class:"clearfix"},l={key:0,class:"icon icon-info"},n=["aria-rowcount","aria-colcount"],s={key:0,class:"rowgroup"},d={class:"row"},c={class:"text-label",role:"columnheader"},u={key:0,class:"icon icon-info",tabindex:"0"},p={class:"text-label",role:"columnheader"},m={key:1,class:"rowgroup"},v={class:"row"},h=["aria-rowindex"],y=["onUpdate:modelValue","disabled","placeholder","data-testid","aria-label","onPaste"],f=["data-testid","aria-rowindex"],b={key:0},k={key:1},g=["onUpdate:modelValue","disabled","type","placeholder","data-testid","aria-label"],x=["aria-rowindex","aria-colindex"],w=["aria-rowindex","aria-colindex","data-testid"],M=["disabled","aria-label","onClick"],B={key:1,class:"footer mt-20"},C=["disabled","aria-label"];function N(e,t,o,N,S,E){const V=(0,a.resolveComponent)("Select"),$=(0,a.resolveComponent)("CodeMirror"),_=(0,a.resolveComponent)("TextAreaAutoGrow"),F=(0,a.resolveComponent)("FileSelector"),O=(0,a.resolveDirective)("clean-tooltip"),L=(0,a.resolveDirective)("stripped-aria-label");return(0,a.openBlock)(),(0,a.createElementBlock)("div",r,[o.title||e.$slots.title?((0,a.openBlock)(),(0,a.createElementBlock)("div",i,[(0,a.renderSlot)(e.$slots,"title",{},(()=>[(0,a.createElementVNode)("h3",null,[(0,a.createTextVNode)((0,a.toDisplayString)(o.title)+" ",1),o.titleProtip?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("i",l,null,512)),[[O,o.titleProtip]]):(0,a.createCommentVNode)("",!0)])]))])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",{class:"kv-container",role:"grid","aria-rowcount":S.rows.length,"aria-colcount":o.extraColumns.length+2,style:(0,a.normalizeStyle)(E.containerStyle)},[S.rows.length||E.isView?((0,a.openBlock)(),(0,a.createElementBlock)("div",s,[(0,a.createElementVNode)("div",d,[(0,a.createElementVNode)("label",c,[(0,a.createTextVNode)((0,a.toDisplayString)(E._keyLabel)+" ",1),E._protip&&!E.isView&&o.addAllowed?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("i",u,null,512)),[[O,{content:E._protip,triggers:["hover","touch","focus"]}],[L,E._protip]]):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("label",p,(0,a.toDisplayString)(E._valueLabel),1),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.extraColumns,((t,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("label",{key:o,role:"columnheader"},[(0,a.renderSlot)(e.$slots,"label:"+t,{},(()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t),1)]))])))),128)),E.canRemove?(0,a.renderSlot)(e.$slots,"remove",{key:0},(()=>[t[3]||(t[3]=(0,a.createElementVNode)("span",null,null,-1))])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0),!S.rows.length&&E.isView?((0,a.openBlock)(),(0,a.createElementBlock)("div",m,t[4]||(t[4]=[(0,a.createElementVNode)("div",{class:"row"},[(0,a.createElementVNode)("div",{class:"kv-item key text-muted",role:"gridcell"}," — "),(0,a.createElementVNode)("div",{class:"kv-item key text-muted",role:"gridcell"}," — ")],-1)]))):((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:2},(0,a.renderList)(S.rows,((r,i)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:i,class:(0,a.normalizeClass)(["rowgroup",{hide:E.isProtected(r.key)&&!o.toggleFilter}])},[(0,a.createElementVNode)("div",v,[(0,a.createElementVNode)("div",{class:"kv-item key",role:"gridcell","aria-rowindex":i+1,"aria-colindex":1},[(0,a.renderSlot)(e.$slots,"key",{row:r,mode:o.mode,keyName:o.keyName,valueName:o.valueName,queueUpdate:e.queueUpdate,disabled:o.disabled},(()=>[o.keyOptions?((0,a.openBlock)(),(0,a.createBlock)(V,{key:0,ref_for:!0,ref:"key",value:r[o.keyName],"onUpdate:value":[e=>r[o.keyName]=e,e.queueUpdate],searchable:!0,disabled:o.disabled||E.isProtected(r.key),clearable:!1,taggable:o.keyTaggable,options:E.calculateOptions(r[o.keyName]),"data-testid":`select-kv-item-key-${i}`,"aria-label":e.t("generic.ariaLabel.key",{index:i})},null,8,["value","onUpdate:value","disabled","taggable","options","data-testid","aria-label"])):(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("input",{key:1,ref_for:!0,ref:"key","onUpdate:modelValue":e=>r[o.keyName]=e,disabled:E.isView||o.disabled||!o.keyEditable||E.isProtected(r.key),placeholder:E._keyPlaceholder,"data-testid":`input-kv-item-key-${i}`,"aria-label":e.t("generic.ariaLabel.key",{index:i}),onInput:t[0]||(t[0]=(...t)=>e.queueUpdate&&e.queueUpdate(...t)),onPaste:e=>E.onPaste(i,e)},null,40,y)),[[a.vModelText,r[o.keyName]]])]))],8,h),(0,a.createElementVNode)("div",{"data-testid":`kv-item-value-${i}`,class:"kv-item value",role:"gridcell","aria-rowindex":i+1,"aria-colindex":2},[(0,a.renderSlot)(e.$slots,"value",{row:r,mode:o.mode,keyName:o.keyName,valueName:o.valueName,queueUpdate:e.queueUpdate},(()=>[r.supported?r.binary?((0,a.openBlock)(),(0,a.createElementBlock)("div",k,(0,a.toDisplayString)(E.binaryTextSize(r.value)),1)):((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:2,class:(0,a.normalizeClass)(["value-container",{"upload-button":o.parseValueFromFile}])},[o.valueMarkdownMultiline?((0,a.openBlock)(),(0,a.createBlock)($,{key:0,ref_for:!0,ref:"cm","data-testid":"code-mirror-multiline-field",class:(0,a.normalizeClass)({["focus"]:S.codeMirrorFocus[i]}),value:r[o.valueName],"as-text-area":!0,mode:o.mode,options:{screenReaderLabel:e.t("generic.ariaLabel.value",{index:i})},onOnInput:e=>E.onInputMarkdownMultiline(i,e),onOnFocus:e=>E.onFocusMarkdownMultiline(i,e)},null,8,["class","value","mode","options","onOnInput","onOnFocus"])):o.valueMultiline&&void 0!==r[o.valueName]?((0,a.openBlock)(),(0,a.createBlock)(_,{key:1,value:r[o.valueName],"onUpdate:value":[e=>r[o.valueName]=e,e.queueUpdate],"data-testid":"value-multiline",class:(0,a.normalizeClass)({conceal:o.valueConcealed}),disabled:o.disabled||E.isProtected(r.key),mode:o.mode,placeholder:E._valuePlaceholder,"min-height":40,spellcheck:!1,"aria-label":e.t("generic.ariaLabel.value",{index:i})},null,8,["value","onUpdate:value","class","disabled","mode","placeholder","aria-label"])):(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("input",{key:2,"onUpdate:modelValue":e=>r[o.valueName]=e,disabled:E.isView||o.disabled||E.isProtected(r.key),type:o.valueConcealed?"password":"text",placeholder:E._valuePlaceholder,autocorrect:"off",autocapitalize:"off",spellcheck:"false","data-testid":`input-kv-item-value-${i}`,"aria-label":e.t("generic.ariaLabel.value",{index:i}),onInput:t[1]||(t[1]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,g)),[[a.vModelDynamic,r[o.valueName]]]),o.parseValueFromFile&&o.readAllowed&&!E.isView&&E.isValueFieldEmpty(r[o.valueName])?((0,a.openBlock)(),(0,a.createBlock)(F,{key:3,class:"btn btn-sm role-secondary file-selector",label:e.t("generic.upload"),"include-file-name":!0,"aria-label":e.t("generic.ariaLabel.value",{index:i}),onSelected:e=>E.onValueFileSelected(i,e)},null,8,["label","aria-label","onSelected"])):(0,a.createCommentVNode)("",!0)],2)):((0,a.openBlock)(),(0,a.createElementBlock)("div",b,(0,a.toDisplayString)(e.t("detailText.unsupported",null,!0)),1))]))],8,f),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.extraColumns,((t,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:`${i}-${o}`,class:"kv-item extra",role:"gridcell","aria-rowindex":i+1,"aria-colindex":o+3},[(0,a.renderSlot)(e.$slots,"col:"+t,{row:r,queueUpdate:e.queueUpdate,i:i})],8,x)))),128)),E.canRemove?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:i,class:"kv-item remove",role:"gridcell","aria-rowindex":i+1,"aria-colindex":o.extraColumns.length+3,"data-testid":`remove-column-${i}`},[(0,a.renderSlot)(e.$slots,"removeButton",{remove:E.remove,row:r,i:i},(()=>[(0,a.createElementVNode)("button",{type:"button",role:"button",disabled:E.isView||E.isProtected(r.key)||o.disabled,"aria-label":`${o.removeLabel||e.t("generic.remove")} ${i+1}`,class:"btn role-link",onClick:e=>E.remove(i)},(0,a.toDisplayString)(o.removeLabel||e.t("generic.remove")),9,M)]))],8,w)):(0,a.createCommentVNode)("",!0)])],2)))),128))],12,n),!o.addAllowed&&!o.readAllowed||E.isView?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",B,[(0,a.renderSlot)(e.$slots,"add",{add:E.add},(()=>[o.addAllowed?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,type:"button",role:"button",class:"btn role-tertiary add","data-testid":"add_row_item_button",disabled:o.loading||o.disabled||o.keyOptions&&0===E.filteredKeyOptions.length,"aria-label":E._addLabel,onClick:t[2]||(t[2]=e=>E.add())},[(0,a.createElementVNode)("i",{class:(0,a.normalizeClass)(["mr-5 icon",o.loading?["icon-lg","icon-spinner","icon-spin"]:[o.addIcon]])},null,2),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(E._addLabel),1)],8,C)):(0,a.createCommentVNode)("",!0),o.readAllowed?((0,a.openBlock)(),(0,a.createBlock)(F,{key:1,disabled:E.isView,class:"role-tertiary",label:e.t("generic.readFromFile"),"include-file-name":!0,onSelected:E.onFileSelected},null,8,["disabled","label","onSelected"])):(0,a.createCommentVNode)("",!0)]))]))])}var S=o(2784),E=o.n(S),V=o(4302),$=o(8851),_=o(2331),F=o(6198),O=o(9378),L=o(6978);const A=["tabindex"],T=["lang","onMousedown"];function K(e,t,o,r,i,l){const n=(0,a.resolveComponent)("v-select"),s=(0,a.resolveComponent)("LabeledTooltip");return(0,a.openBlock)(),(0,a.createElementBlock)("div",{ref:"select",class:(0,a.normalizeClass)(["unlabeled-select",{disabled:o.disabled||e.isView,focused:e.focused,[o.mode]:!0,[o.status]:o.status,taggable:e.$attrs.taggable,taggable:e.$attrs.multiple,"compact-input":o.compact,[e.$attrs.class]:e.$attrs.class}]),tabindex:o.disabled||e.isView?-1:0,onClick:t[2]||(t[2]=(...e)=>l.focusSearch&&l.focusSearch(...e)),onKeydown:[t[3]||(t[3]=(0,a.withKeys)(((...e)=>l.focusSearch&&l.focusSearch(...e)),["enter"])),t[4]||(t[4]=(0,a.withKeys)((0,a.withModifiers)(((...e)=>l.focusSearch&&l.focusSearch(...e)),["prevent"]),["down"])),t[5]||(t[5]=(0,a.withKeys)((0,a.withModifiers)(((...e)=>l.focusSearch&&l.focusSearch(...e)),["prevent"]),["space"]))]},[(0,a.createVNode)(n,(0,a.mergeProps)({ref:"select-input"},l.deClassedAttrs,{class:["inline",{"select-input-view":"view"===o.mode}],autoscroll:!0,"append-to-body":o.appendToBody,"calculate-position":l.positionDropdown,disabled:e.isView||o.disabled,"get-option-key":e=>l.getOptionKey(e),"get-option-label":e=>l.getOptionLabel(e),label:o.optionLabel,options:e.options,"close-on-select":o.closeOnSelect,"map-keydown":e.mappedKeys,placeholder:o.placeholder,reduce:e=>o.reduce(e),searchable:e.isSearchable,selectable:l.selectable,modelValue:null!=o.value?o.value:"",dropdownShouldOpen:l.handleDropdownOpen,tabindex:-1,role:"listbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:value",t)),"onSearch:blur":e.onBlur,"onSearch:focus":e.onFocus,onOpen:e.resizeHandler,"onOption:created":t[1]||(t[1]=t=>e.$emit("createdListItem",t))}),(0,a.createSlots)({option:(0,a.withCtx)((e=>[(0,a.createElementVNode)("div",{lang:o.isLangSelect?e.value:void 0,onMousedown:t=>l.onClickOption(e,t)},(0,a.toDisplayString)(l.getOptionLabel(e.label)),41,T)])),_:2},[(0,a.renderList)(e.$slots,((t,o)=>({name:o,fn:(0,a.withCtx)((t=>[(0,a.renderSlot)(e.$slots,o,(0,a.normalizeProps)((0,a.guardReactiveProps)(t)),void 0,!0)]))})))]),1040,["class","append-to-body","calculate-position","disabled","get-option-key","get-option-label","label","options","close-on-select","map-keydown","placeholder","reduce","searchable","selectable","modelValue","dropdownShouldOpen","onSearch:blur","onSearch:focus","onOpen"]),o.tooltip&&!e.focused?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,hover:o.hoverTooltip,value:o.tooltip,status:o.status},null,8,["hover","value","status"])):(0,a.createCommentVNode)("",!0),l.validationMessage?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,hover:o.hoverTooltip,value:l.validationMessage},null,8,["hover","value"])):(0,a.createCommentVNode)("",!0)],42,A)}var P=o(3503),D=o(9626),U=o(9924),R=o(162),z={emits:["update:value","createdListItem"],components:{LabeledTooltip:U.Z},mixins:[P.A,D.A],props:{appendToBody:{default:!0,type:Boolean},disabled:{default:!1,type:Boolean},getKeyForOption:{default:null,type:Function},mode:{default:"edit",type:String},optionKey:{default:null,type:String},optionLabel:{default:"label",type:String},placement:{default:null,type:String},placeholder:{type:String,default:""},popperOverride:{type:Function,default:null},reduce:{default:e=>e&&"object"===typeof e&&void 0!==e.value?e.value:e,type:Function},tooltip:{type:String,default:null},hoverTooltip:{type:Boolean,default:!0},status:{type:String,default:null},value:{default:null,type:[String,Object,Number,Array,Boolean]},closeOnSelect:{type:Boolean,default:!0},compact:{type:Boolean,default:null},isLangSelect:{type:Boolean,default:!1}},methods:{getOptionLabel(e){return this.$attrs["get-option-label"]?this.$attrs["get-option-label"](e):(0,L.Jt)(e,this.optionLabel)?this.localizedLabel?this.$store.getters["i18n/t"]((0,L.Jt)(e,this.optionLabel)):(0,L.Jt)(e,this.optionLabel):e},positionDropdown(e,t,{width:o}){if(this.popperOverride)return this.popperOverride(e,t,{width:o});(0,R.s)(e,t,o,this.placement)},focusSearch(){this.overridesMixinPreventDoubleTriggerKeysOpen?this.$nextTick((()=>{const e=this.$refs["select"];e&&e.focus(),this.overridesMixinPreventDoubleTriggerKeysOpen=!1})):(this.$refs["select-input"].open=!0,this.$nextTick((()=>{const e=this.$refs["select-input"]?.searchEl;e&&e.focus()})))},get:L.Jt,onClickOption(e,t){R.t.call(this,e,t)},selectable(e){return!e||!e.disabled&&"group"!==e.kind&&"divider"!==e.kind&&!e.loading},getOptionKey(e){if(e&&this.optionKey)return(0,L.Jt)(e,this.optionKey);if(e?.optionKey)return(0,L.Jt)(e,e.optionKey);const t=this.getOptionLabel(e);return"string"===typeof t||"number"===typeof t?t:Math.random(1e5)},report(e){alert(e)},handleDropdownOpen(e){return!e.noDrop&&!e.disabled&&e.open}},computed:{requiredField(){return this.required||this.rules.some((e=>"required"===e?.name))},validationMessage(){const e=this.rules.find((e=>"required"===e?.name)),t=[],o=this?.value;if(e&&this.blurred&&!this.focused){const t=e(o);if(t)return t}for(const a of this.rules){const e=a(o);e&&"required"!==a.name&&t.push(e)}return t.length>0&&(this.blurred||this.focused)?t.join(", "):void 0},canPaginate(){return!1},deClassedAttrs(){const{class:e,...t}=this.$attrs;return t}}},I=(o(9147),o(7433));const q=(0,I.A)(z,[["render",K],["__scopeId","data-v-b8a7a952"]]);var j=q,J=o(9649),G=o(4220),W=o(2043);const X=["tabindex"],Q={key:0},H={key:0,class:"keymap overlay"},Z=["aria-describedby"],Y={key:1};function ee(e,t,o,r,i,l){const n=(0,a.resolveComponent)("Codemirror"),s=(0,a.resolveDirective)("clean-tooltip");return(0,a.openBlock)(),(0,a.createElementBlock)("div",{ref:"codeMirrorContainer",tabindex:l.codeMirrorContainerTabIndex,class:(0,a.normalizeClass)(["code-mirror code-mirror-container",{["as-text-area"]:o.asTextArea}]),onFocusin:t[1]||(t[1]=(...e)=>l.focusChanged&&l.focusChanged(...e)),onBlur:t[2]||(t[2]=e=>l.focusChanged(e,!0))},[i.loaded?((0,a.openBlock)(),(0,a.createElementBlock)("div",Q,[o.showKeyMapBox&&!i.removeKeyMapBox&&l.keyMapTooltip&&l.isNonDefaultKeyMap?((0,a.openBlock)(),(0,a.createElementBlock)("div",H,[(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"keymap-indicator","data-testid":"code-mirror-keymap",onClick:t[0]||(t[0]=(...e)=>l.closeKeyMapInfo&&l.closeKeyMapInfo(...e))},t[3]||(t[3]=[(0,a.createElementVNode)("i",{class:"icon icon-keyboard keymap-icon"},null,-1),(0,a.createElementVNode)("div",{class:"close-indicator"},[(0,a.createElementVNode)("i",{class:"icon icon-close icon-sm"})],-1)]))),[[s,l.keyMapTooltip]])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(n,{id:"code-mirror-el",ref:"codeMirrorRef",value:o.value,options:l.combinedOptions,disabled:l.isDisabled,"original-style":!0,onReady:l.onReady,onInput:l.onInput,onChanges:l.onChanges,onFocus:l.onFocus,onBlur:l.onBlur},null,8,["value","options","disabled","onReady","onInput","onChanges","onFocus","onBlur"]),(0,a.withDirectives)((0,a.createElementVNode)("span",{class:"escape-text",role:"alert","aria-describedby":e.t("wm.containerShell.escapeText")},(0,a.toDisplayString)(e.t("codeMirror.escapeText")),9,Z),[[a.vShow,i.isCodeMirrorFocused]])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",Y," Loading... "))],42,X)}var te=o(1462),oe=o(4364),ae={name:"CodeMirror",emits:["onReady","onInput","onChanges","onFocus","validationChanged"],props:{mode:{type:String,default:G.G5},value:{type:String,required:!0},options:{type:Object,default:()=>{}},asTextArea:{type:Boolean,default:!1},showKeyMapBox:{type:Boolean,default:!1}},data(){return{codeMirrorRef:null,loaded:!1,removeKeyMapBox:!1,hasLintErrors:!1,currFocusedElem:void 0,isCodeMirrorFocused:!1,codeMirrorContainerRef:void 0}},computed:{isDisabled(){return this.mode===G.nW},combinedOptions(){const e=this.$store.getters["prefs/theme"],t=this.$store.getters["prefs/get"](te.aP),o={tabSize:2,indentWithTabs:!1,mode:"yaml",keyMap:t,theme:`base16-${e}`,lineNumbers:!0,line:!0,styleActiveLine:!1,lineWrapping:!0,foldGutter:!0,styleSelectedText:!0,showCursorWhenSelecting:!0,autocorrect:!1};return this.asTextArea&&(o.lineNumbers=!1,o.foldGutter=!1,o.tabSize=0,o.extraKeys={Tab:!1}),Object.assign(o,this.options),this.options?.lint&&(o.lint={onUpdateLinting:this.handleLintErrors}),o.readOnly=!!this.isDisabled&&"nocursor",o},keyMapTooltip(){if(this.combinedOptions?.keyMap){const e=this.t(`prefs.keymap.${this.combinedOptions.keyMap}`);return this.t("codeMirror.keymap.indicatorToolip",{name:e})}return null},isNonDefaultKeyMap(){return"sublime"!==this.combinedOptions?.keyMap},isCodeMirrorContainerFocused(){return this.currFocusedElem===this.codeMirrorContainerRef},codeMirrorContainerTabIndex(){return this.isCodeMirrorFocused?0:-1}},created(){window.__codeMirrorLoader?window.__codeMirrorLoader().then((()=>{this.loaded=!0})):oe.error("Code mirror loader not available")},async mounted(){const e=this.$refs.codeMirrorContainer;e.addEventListener("keydown",this.handleKeyPress),this.codeMirrorContainerRef=this.$refs.codeMirrorContainer},beforeUnmount(){const e=this.$refs.codeMirrorContainer;e.removeEventListener("keydown",this.handleKeyPress)},watch:{hasLintErrors(e){this.$emit("validationChanged",!e)},isCodeMirrorContainerFocused:{handler(e){const t=this.codeMirrorRef?.getInputField();t&&(t.tabIndex=e?-1:0)},immediate:!0}},methods:{focusChanged(e,t=!1){this.currFocusedElem=t?void 0:e.target},handleKeyPress(e){this.isCodeMirrorFocused&&"Escape"===e.code&&(e.preventDefault(),e.stopPropagation());const t=e.shiftKey&&"Escape"===e.code;this.isCodeMirrorFocused&&t&&this.$refs?.codeMirrorContainer?.focus(),!this.isCodeMirrorContainerFocused||"Enter"!==e.code&&"Space"!==e.code||this.codeMirrorRef.focus()},handleLintErrors(e=[]){const t=e.filter((e=>!e.severity||"error"===e.severity)).length>0;this.hasLintErrors=t},focus(){this.$refs.codeMirrorRef&&this.$refs.codeMirrorRef.cminstance.focus()},refresh(){this.$refs.codeMirrorRef&&this.$refs.codeMirrorRef.refresh()},onReady(e){this.$emit("validationChanged",!0),this.$nextTick((()=>{e.refresh(),this.codeMirrorRef=e})),this.$emit("onReady",e)},onInput(e){this.$emit("onInput",e)},onChanges(e,t){this.$emit("onChanges",e,t)},onFocus(){this.isCodeMirrorFocused=!0,this.$emit("onFocus",!0)},onBlur(){this.isCodeMirrorFocused=!1,this.$emit("onFocus",!1)},updateValue(e){this.$refs.codeMirrorRef&&this.$refs.codeMirrorRef.cminstance.doc.setValue(e)},closeKeyMapInfo(){this.removeKeyMapBox=!0}}};o(6883);const re=(0,I.A)(ae,[["render",ee]]);var ie=re,le=o(6343),ne=o.n(le),se={name:"KeyValue",emits:["focusKey","update:value"],components:{CodeMirror:ie,Select:j,TextAreaAutoGrow:O.A,FileSelector:J.A},props:{value:{type:[Array,Object],default:null},defaultValue:{type:[Array,Object],default:null},binaryValueKeys:{type:[Array,Object],default:null},mode:{type:String,default:G.G5},asMap:{type:Boolean,default:!0},initialEmptyRow:{type:Boolean,default:!1},title:{type:String,default:""},titleProtip:{type:String,default:""},protip:{type:[String,Boolean],default:""},keyName:{type:String,default:"key"},keyLabel:{type:String,default:""},keyEditable:{type:Boolean,default:!0},keyOptions:{type:Array,default:null},keyTaggable:{type:Boolean,default:!0},keyOptionUnique:{type:Boolean,default:!1},keyPlaceholder:{type:String,default:""},protectedKeys:{type:Array,default:()=>[]},toggleFilter:{type:Boolean,default:!1},separatorLabel:{type:String,default:""},valueName:{type:String,default:"value"},valueLabel:{type:String,default:""},valuePlaceholder:{type:String,default:""},valueCanBeEmpty:{type:Boolean,default:!1},displayValuesAsBinary:{type:Boolean,default:!1},valueMarkdownMultiline:{type:Boolean,default:!1},valueMultiline:{type:Boolean,default:!0},valueTrim:{type:Boolean,default:!0},handleBase64:{type:Boolean,default:!1},valueConcealed:{type:Boolean,default:!1},supported:{type:Function,default:e=>!0},preserveKeys:{type:Array,default:null},extraColumns:{type:Array,default:()=>[]},defaultAddData:{type:Object,default:()=>{}},addLabel:{type:String,default:""},addIcon:{type:String,default:""},addAllowed:{type:Boolean,default:!0},readIcon:{type:String,default:"icon-upload"},readAllowed:{type:Boolean,default:!0},readAccept:{type:String,default:"*"},readMultiple:{type:Boolean,default:!1},removeLabel:{type:String,default:""},removeIcon:{type:String,default:"icon-minus"},removeAllowed:{type:Boolean,default:!0},fileModifier:{type:Function,default:(e,t)=>({name:e,value:t})},parserSeparators:{type:Array,default:()=>[":","="]},loading:{default:!1,type:Boolean},parseLinesFromFile:{default:!1,type:Boolean},parseValueFromFile:{default:!1,type:Boolean},disabled:{default:!1,type:Boolean}},data(){const e=this.getRows(this.value);return{rows:e,codeMirrorFocus:{},lastUpdated:null}},computed:{_protip(){return this.protip||this.t("keyValue.protip",null,!0)},_keyLabel(){return this.keyLabel||this.t("generic.key")},_keyPlaceholder(){return this.keyPlaceholder||this.t("keyValue.keyPlaceholder")},_valueLabel(){return this.valueLabel||this.t("generic.value")},_valuePlaceholder(){return this.valuePlaceholder||this.t("keyValue.valuePlaceholder")},_addLabel(){return this.addLabel||this.t("generic.add")},isView(){return this.mode===G.nW},containerStyle(){const e=this.canRemove?" 50px":"",t=2+this.extraColumns.length;return`grid-template-columns: repeat(${t}, 1fr)${e};`},usedKeyOptions(){return this.rows.map((e=>e[this.keyName]))},filteredKeyOptions(){return this.keyOptionUnique?this.keyOptions.filter((e=>!this.usedKeyOptions.includes(e.value))):this.keyOptions},canRemove(){return!this.isView&&this.removeAllowed}},created(){this.queueUpdate=E()(this.update,500)},watch:{value:{deep:!0,handler(e,t){this.valuePropChanged(e,t)}}},methods:{valuePropChanged(e){ne()(e,this.lastUpdated)||(this.rows=this.getRows(e))},isProtected(e){return this.protectedKeys&&this.protectedKeys.includes(e)},getRows(e){const t=[];if(this.asMap){const o=e||{};Object.keys(o).forEach((e=>{let a=o[e];const r=(0,_.u)(o[e]),i=(0,W.XC)(r);this.handleBase64&&i&&(a=(0,_.u)(a)),t.push({key:e,value:a,binary:this.displayValuesAsBinary||this.handleBase64&&!i,canEncode:this.handleBase64&&i,supported:!0})}))}else{const o=e||[];for(const e of o){let o=e[this.valueName]||"";const a=(0,_.u)(e[this.valueName]),r=(0,W.XC)(a);this.handleBase64&&r&&(o=(0,_.u)(o));const i={[this.keyName]:e[this.keyName]||"",[this.valueName]:o,binary:this.displayValuesAsBinary||this.handleBase64&&!r,canEncode:this.handleBase64&&r,supported:this.supported(e)};this.preserveKeys?.map((t=>{"undefined"!==typeof e[t]&&(i[t]=e[t])})),t.push(i)}}return t&&!t.length&&this.initialEmptyRow&&t.push({[this.keyName]:"",[this.valueName]:"",binary:!1,canEncode:this.handleBase64,supported:!0}),t},add(e="",t=""){const o={...this.defaultAddData,[this.keyName]:e,[this.valueName]:t};o.binary=!1,o.canEncode=this.handleBase64,o.supported=!0,this.rows.push(o),this.queueUpdate(),this.$nextTick((()=>{if(this.$refs.key){const e=this.$refs.key,t=e[e.length-1];t.focus()}else this.$emit("focusKey")}))},remove(e){(0,$.Wq)(this.rows,e),this.queueUpdate()},removeEmptyRows(){const e=this.rows.filter((e=>e.value.length||e.key.length));this["rows"]=e},onFileSelected(e){const{name:t,value:o}=this.fileModifier(e.name,e.value);if(this.parseLinesFromFile){const e=o.split("\n");e.forEach((e=>{if(e.length){const[t,o]=e.split("=");this.add(t,o)}})),e.length>0&&this.removeEmptyRows()}else this.add(t,o,this.displayValuesAsBinary)},download(e,t){const o=this.rows[e],a=o[this.keyName],r=o[this.valueName];(0,F.PE)(a,r,"application/octet-stream")},update(){let e;if(this.asMap){e={};const t=this.keyName,o=this.valueName;for(const a of this.rows){let r=a[o]||"";const i=(a[t]||"").trim();r&&"object"===(0,V.QP)(r)?e[i]=JSON.parse(JSON.stringify(r)):(r=r||"",this.valueTrim&&(0,W.XC)(r)&&(r=r.trim()),a.canEncode&&(r=(0,_.KA)(r)),i&&(r||this.valueCanBeEmpty)&&(e[i]=r))}}else{const t=this.preserveKeys||[];(0,$.Gj)(t,this.keyName),(0,$.Gj)(t,this.valueName),e=this.rows.map((e=>{let o=e[this.valueName];e.canEncode&&(o=(0,_.KA)(o));const a={[this.keyName]:e[this.keyName],[this.valueName]:o};for(const r of t)"undefined"!==typeof e[r]&&(a[r]=e[r]);return a}))}this.lastUpdated=e,this.$emit("update:value",e)},onPaste(e,t){const o=t.clipboardData.getData("text/plain"),a=o.split("\n"),r=a.map((e=>{const t=this.parserSeparators.find((t=>e.includes(t)));return t?e.split(t):""})).filter((e=>e&&e.length>0));if(0===r.length||1===r.length&&r[0].length<2)return;t.preventDefault();const i=r.map((e=>({[this.keyName]:(e[0]||"").trim(),[this.valueName]:(e[1]||"").trim(),supported:!0,canEncode:this.handleBase64,binary:this.displayValuesAsBinary})));this.rows.splice(e,1,...i),this.queueUpdate()},calculateOptions(e){const t=this.keyOptions.find((t=>t.value===e));return t?[t,...this.filteredKeyOptions]:this.filteredKeyOptions},binaryTextSize(e){const t=this.handleBase64?(0,_.u)(e):e,o=e.length?(0,_.dQ)(t):0;return this.t("detailText.binary",{n:o},!0)},get:L.Jt,onInputMarkdownMultiline(e,t){this.rows=this.rows.map(((o,a)=>a===e?{...o,value:t}:o)),this.queueUpdate()},onFocusMarkdownMultiline(e,t){this.codeMirrorFocus[e]=t},onValueFileSelected(e,t){const{name:o,value:a}=t;this.rows[e][this.keyName]||(this.rows[e][this.keyName]=o),this.rows[e][this.valueName]=a},isValueFieldEmpty(e){return!e||0===e.trim().length}}};o(9340);const de=(0,I.A)(se,[["render",N]]);var ce=de}}]);
//# sourceMappingURL=triton-0.2.1.umd.min.400.js.map